<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700,900&display=swap"
      rel="stylesheet"
    />

    <!-- Use url_for to link static assets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/icomoon/style.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />

    <title>Bug Localization Submission Form</title>

    <style>
      /* Navbar background */
      .navbar-dark.bg-dark {
        background-color: #121212;
        font-family: 'Poppins', sans-serif;
        padding: 1rem 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      }
      .navbar-brand {
        font-weight: 900;
        font-size: 1.8rem;
        color: #f8f9fa;
        letter-spacing: 1px;
      }
      .navbar-nav .nav-link {
        color: #ccc;
        font-weight: 500;
        font-size: 1rem;
        padding: 0.5rem 1rem;
        transition: color 0.3s ease;
      }
      .navbar-nav .nav-link:hover,
      .navbar-nav .nav-link:focus {
        color: #1db954;
        outline: none;
      }
      .nav-item.active .nav-link {
        color: #1db954;
        font-weight: 700;
      }
      .navbar-toggler {
        border-color: transparent;
      }
      .navbar-toggler-icon {
        filter: invert(1);
      }
      .navbar-nav .nav-link:focus-visible {
        outline: none;
        box-shadow: 0 0 5px #1db954;
        border-radius: 4px;
      }

      /* Make left instructions panel larger on large screens */
      @media (min-width: 992px) {
        .instructions-col {
          flex: 0 0 45%;
          max-width: 45%;
        }
        .form-col {
          flex: 0 0 55%;
          max-width: 55%;
        }
      }
    </style>
  </head>
  <body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">M.I.N.D</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://apclbuglocalizer.github.io/">Document</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/apcl-research/M.I.N.D.">Github</a>
            </li>
                </ul>
        </div>
      </div>
    </nav>

    <div class="content">
      <div class="container">
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert alert-success mt-4">
              {% for message in messages %}
                <p>{{ message }}</p>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <div class="row align-items-center">
          <!-- Instructions Column -->
          <div class="col-lg-4 instructions-col">
            <div class="mb-5">
              <h3 class="text-white mb-4">How to Submit Files for Bug Localization</h3>
              <p class="text-white">
                Please follow these steps carefully to ensure our team can analyze and localize the bug efficiently.
              </p>
            </div>
            <div class="row">
              <div class="col-12">
                <ol class="text-white" style="padding-left: 20px;">
                  <li><strong>Prepare Your Files:</strong> Include all relevant source code, logs, and configuration files.</li>
                  <li><strong>Compress into a .zip:</strong> Place all files into a single folder and compress it into a <code>.zip</code> archive.</li>
                  <li><strong>Name Your Archive:</strong> Use a clear name like <em>projectname_bugreport_date.zip</em>.</li>
                  <li><strong>Fill Out the Form:</strong> Provide your name, email, and a detailed description of the bug.</li>
                  <li><strong>Upload the File:</strong> Use the "Upload File" field to attach your <code>.zip</code> archive.</li>
                  <li><strong>Submit:</strong> Click “Submit Report” and wait for the confirmation message.</li>
                </ol>
                <p class="text-white mt-4"><em>Note:</em> Only <strong>.zip</strong> files are accepted for security and consistency.</p>
              </div>
            </div>
          </div>

          <!-- Form Column -->
          <div class="col-lg-8 form-col">
            <div class="box">
              <h3 class="heading">Submit Your Bug Report</h3>
              <form class="mb-5" method="post" action="/results" enctype="multipart/form-data" id="bugreport" name="bugreport">
                <div class="row mb-3">
                  <div class="col-md-12 form-group">
                    <label for="name" class="col-form-label">Your name</label>
                    <input
                      type="text"
                      class="form-control"
                      name="name"
                      id="name"
                      required
                    />
                  </div>
                  <div class="col-md-12 form-group">
                    <label for="email" class="col-form-label">Email</label>
                    <input
                      type="email"
                      class="form-control"
                      name="email"
                      id="email"
                      placeholder="you@example.com"
                      required
                    />
                  </div>
                  <div class="col-md-12 form-group">
                    <label for="report" class="col-form-label">Bug report</label>
                    <textarea class="form-control" name="report" id="report" style="height: 150px;" required></textarea>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 form-group">
                    <label for="file" class="col-form-label">Upload File</label>
                    <input type="file" class="form-control-file" name="file" id="file" accept=".zip" required />
                    <small class="form-text text-muted">Please upload a <strong>.zip</strong> file only.</small>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <input type="submit" value="Submit Report" class="btn btn-block btn-primary rounded-0 py-2 px-4" />
                    <span class="submitting"></span>
                  </div>
                </div>
              </form>

              <div id="form-message-warning mt-4"></div>
              <div id="form-message-success">
                Your message was sent, thank you!
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.validate.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
